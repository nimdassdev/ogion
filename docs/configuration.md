---
hide:
  - toc
---

# Configuration

Environemt variables

| Name                             | Type                 | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Default           |
| :------------------------------- | :------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------- |
| ZIP_ARCHIVE_PASSWORD             | string[**required**] | Zip archive password that **all** backups generated by this backuper instance will have. When it is lost, you lose access to your backups. Special characters are allowed since [shlex quote](https://docs.python.org/3/library/shlex.html#shlex.quote) is used around app, though not recommended so password can be used when using programs in terminal like `unzip`.                                                                                                                                                                                         | -                 |
| BACKUP_PROVIDER                  | string[**required**] | See `Providers` chapter, choosen backup provider for example [GCS](./providers/google_cloud_storage.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                         | -                 |
| BACKUP_MAX_NUMBER                | int                  | Soft limit how many backups can live at once for backup target. Defaults to `7`. This must makes sense with cron expression you use. For example if you want to have `7` day retention, and make backups at 5:00, `max_backups=7` is fine, but if you make `4` backups per day, you would need `max_backups=28`. Limit is soft and can be exceeded if no backup is older than value specified in `min_retention_days` in backup target. Note this global default and can be overwritten by using `max_backups` param in specific targets. Min `1` and max `998`. | 7                 |
| BACKUP_MIN_RETENTION_DAYS        | int                  | Hard minimum backups lifetime in days. Backuper won't ever delete files before, regardles of other options. Note this global default and can be overwritten by using `min_retention_days` param in specific targets. Min `0` and max `36600`.                                                                                                                                                                                                                                                                                                                    | 3                 |
| ROOT_MODE                        | bool                 | If `false`, process in container will start backuper using user with minimal permissions required. If `true`, it will run as root (it may help for example with file/directory backup permission issues in mounted volumes).                                                                                                                                                                                                                                                                                                                                     | false             |
| POSTGRESQL\_...                  | backup target syntax | PostgreSQL database target, see [PostgreSQL](./backup_targets/postgresql.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | -                 |
| MYSQL\_...                       | backup target syntax | MySQL database target, see [MySQL](./backup_targets/mysql.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | -                 |
| MARIADB\_...                     | backup target syntax | MariaDB database target, see [MariaDB](./backup_targets/mariadb.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | -                 |
| SINGLEFILE\_...                  | backup target syntax | Single file database target, see [Single file](./backup_targets/file.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | -                 |
| DIRECTORY\_...                   | backup target syntax | Directory database target, see [Directory](backup_targets/directory.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | -                 |
| DISCORD_SUCCESS_WEBHOOK_URL      | http url             | URL for success messages.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | -                 |
| DISCORD_FAIL_WEBHOOK_URL         | http url             | URL for fail messages.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | -                 |
| DISCORD_NOTIFICATION_MAX_MSG_LEN | int                  | Maximum length of messages send to discord API. Sensible default used. Min `150` and max `10000`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 1500              |
| LOG_LEVEL                        | string               | Case sensitive const log level, must be one of `INFO`, `DEBUG`, `WARNING`, `ERROR`, `CRITICAL`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | INFO              |
| SUBPROCESS_TIMEOUT_SECS          | int                  | Indicates how long subprocesses can last. Note that all backups are run from shell in subprocesses. Defaults to 3600 seconds which should be enough for even big dbs to make backup of. Min `5` and max `86400` (24h).                                                                                                                                                                                                                                                                                                                                           | 3600              |
| ZIP_ARCHIVE_LEVEL                | int                  | Compression level of 7-zip via `-mx` option: `-mx[N] : set compression level: -mx1 (fastest) ... -mx9 (ultra)`. Defaults to `3` which should be sufficient and fast enough. Min `1` and max `9`.                                                                                                                                                                                                                                                                                                                                                                 | 3                 |
| LOG_FOLDER_PATH                  | string               | Path to store log files, for local development `./logs`, in container `/var/log/backuper`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | /var/log/backuper |
| SIGTERM_TIMEOUT_SECS             | int                  | Time in seconds on exit how long backuper will wait for ongoing backup threads before force killing them and exiting. Min `0` and max `86400` (24h).                                                                                                                                                                                                                                                                                                                                                                                                             | 30                |
| ZIP_SKIP_INTEGRITY_CHECK         | bool                 | By default set to `false` and after 7zip archive is created, integrity check runs on it. You can opt out this behaviour for performance reasons, use `true`.                                                                                                                                                                                                                                                                                                                                                                                                     | false             |

<br>
<br>
